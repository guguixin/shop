(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aa94052"],{"3ca7":function(t,s,i){"use strict";i("c569")},"41b9":function(t,s,i){t.exports=i.p+"img/cart.6f2abfef.png"},"7e95":function(t,s,i){"use strict";var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showimg,expression:"showimg"}],staticClass:"linefal"},[i("div",{staticClass:"line"}),t._m(0),i("div",{staticClass:"line"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showimg,expression:"showimg"}],staticClass:"preming"},[i("van-grid",{attrs:{"column-num":2}},t._l(t.hotlist,(function(s){return i("van-grid-item",{key:s.id,attrs:{icon:"photo-o",text:"文字",to:"/detail/"+s.id}},[i("van-image",{staticClass:"Premiumesimg",attrs:{src:s.image}}),i("p",{staticClass:"p1"},[t._v(t._s(s.store_name))]),i("p",{staticClass:"p2"},[t._v("￥"+t._s(s.price))])],1)})),1)],1)])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"linename"},[i("span",[t._v("为您推荐")])])}],a={props:["showimg","hotlist"]},o=a,r=(i("f498"),i("2877")),c=Object(r["a"])(o,n,e,!1,null,"5fd8fff9",null);s["a"]=c.exports},a15b:function(t,s,i){"use strict";var n=i("23e7"),e=i("44ad"),a=i("fc6a"),o=i("a640"),r=[].join,c=e!=Object,l=o("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(t){return r.call(a(this),void 0===t?",":t)}})},b789:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"cart"},[n("div",{staticClass:"heads"},[n("div",[n("van-icon",{attrs:{name:"passed"}}),n("span",[t._v("100%正品保证")])],1),n("div",[n("van-icon",{attrs:{name:"passed"}}),n("span",[t._v("所有商品精挑细选")])],1),n("div",[n("van-icon",{attrs:{name:"passed"}}),n("span",[t._v("售后无忧")])],1)]),t.list?n("div",{staticClass:"godnum"},[n("span",[t._v("购物数量 "),n("span",[t._v(t._s(t.list.length))])]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.show&&0!=t.list.length,expression:"show && list.length != 0"}],staticClass:"showing",on:{click:function(s){t.show=!1}}},[t._v("管理")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.show&&0!=t.list.length,expression:"!show && list.length != 0"}],staticClass:"showing",on:{click:function(s){t.show=!0}}},[t._v("取消")])]):t._e(),n("div",[n("van-checkbox-group",{ref:"checkboxGroup",on:{change:t.changeresult},model:{value:t.result,callback:function(s){t.result=s},expression:"result"}},t._l(t.list,(function(s){return n("van-card",{key:s.id,staticClass:"gwc",attrs:{price:""+s.truePrice,desc:"描述信息"},scopedSlots:t._u([{key:"thumb",fn:function(){return[n("div",{staticClass:"thumbimg"},[n("van-checkbox",{staticClass:"buttonest",attrs:{name:s.id}}),n("router-link",{attrs:{to:"/detail/"+s.productInfo.id,tag:"div"}},[n("img",{attrs:{src:s.productInfo.image,alt:""}})])],1)]},proxy:!0},{key:"num",fn:function(){return[n("div",{staticClass:"values"},[n("van-button",{staticClass:"buttons",attrs:{type:"info",disabled:1==s.cart_num},on:{click:function(i){return t.Cartnumadd({num:s.cart_num,id:s.id})}}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:s.cart_num,expression:"item.cart_num"}],domProps:{value:s.cart_num},on:{input:[function(i){i.target.composing||t.$set(s,"cart_num",i.target.value)},function(i){return t.Changemodel({num:s.cart_num,id:s.id})}]}}),n("van-button",{staticClass:"buttons",attrs:{type:"info"},on:{click:function(i){return t.Cartnumbel({num:s.cart_num,id:s.id})}}},[t._v("+")])],1)]},proxy:!0},{key:"title",fn:function(){return[n("p",{staticClass:"p1"},[t._v(t._s(s.productInfo.store_name))])]},proxy:!0},{key:"desc",fn:function(){return[n("p",{staticClass:"p10"},[t._v("属性: "+t._s(s.productInfo.attrInfo.suk))])]},proxy:!0}],null,!0)})})),1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.list&&0==t.list.length,expression:"list && list.length == 0"}],staticClass:"pictrue"},[n("img",{attrs:{src:i("41b9"),alt:""}})]),n("recommendent",{attrs:{showimg:t.showimg,hotlist:t.hotlist}}),n("van-submit-bar",{directives:[{name:"show",rawName:"v-show",value:!t.showimg,expression:"!showimg"}],staticClass:"submitbares",attrs:{price:t.price},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"onsubmits",attrs:{round:"",type:"info"},on:{click:function(s){return s.stopPropagation(),t.onSubmit(s)}}},[t._v("立即下单")]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"onsubmit",attrs:{round:"",type:"info"},on:{click:function(s){return s.stopPropagation(),t.ondeleteing(s)}}},[t._v("删除")])]},proxy:!0}])},[n("van-checkbox",{attrs:{type:"primary"},on:{click:function(s){return t.checkAll(t.checked)}},model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}},[t._v("全选")])],1)],1)},e=[],a=(i("a15b"),i("7e95")),o={data:function(){return{list:null,hotlist:[],show:!0,price:0,showimg:!1,checked:!1,result:[],cartid:"",sparray:[]}},components:{Recommendent:a["a"]},created:function(){var t=this;this.$axios.get("/api/cart/list").then((function(s){t.list=s.data.data.valid,0!=t.list.length||(t.showimg=!0)})),this.$axios.get("/api/product/hot?page=1&limit=20").then((function(s){t.hotlist=s.data.data}))},methods:{Changemodel:function(t){console.log(t),this.axios.post("/api/cart/num",{id:t.id,number:t.num}),this.changeresult(t.id)},Cartnumadd:function(t){--t.num;for(var s=t,i=0;i<this.list.length;i++)this.list[i].id==t.id&&--this.list[i].cart_num;this.axios.post("/api/cart/num",{id:s.id,number:s.num}),this.changeresult(t.id)},Cartnumbel:function(t){++t.num;for(var s=t,i=0;i<this.list.length;i++)this.list[i].id==t.id&&++this.list[i].cart_num;this.axios.post("/api/cart/num",{id:s.id,number:s.num}),this.changeresult(t.id)},changeresult:function(t){if(this.price=0,t=this.result,0!=t.length)for(var s=0;s<this.list.length;s++)for(var i=0;i<=t.length;i++)t[i]==this.list[s].id&&(this.price+=this.list[s].truePrice*this.list[s].cart_num*100);t=t.join(",");for(var n=0;n<this.list.length;n++)this.cartid=t},ondeleteing:function(){var t=this;console.log("aaa"),this.$axios.post("/api/cart/del",{ids:this.cartid}).then((function(s){200==s.data.status?(t.$toast({message:"删除购物车成功"}),t.$axios.get("/api/cart/list").then((function(s){if(t.list=s.data.data.valid,0!=t.list.length)for(var i=0;i<=t.list.length;i++)t.price+=t.list[i].truePrice*t.list[i].cart_num*100;else t.showimg=!0}))):t.$toast(s.data.msg)}))},onSubmit:function(){""!=this.cartid?this.$router.push({path:"/payment",query:{id:this.cartid}}):this.$toast({message:"请选择商品"})},checkAll:function(t){console.log(t),1==t?this.$refs.checkboxGroup.toggleAll(!0):this.$refs.checkboxGroup.toggleAll(!1)},toggleAll:function(){this.$refs.checkboxGroup.toggleAll()},cartnum:function(t){t--,console.log(t)}}},r=o,c=(i("3ca7"),i("2877")),l=Object(c["a"])(r,n,e,!1,null,null,null);s["default"]=l.exports},c569:function(t,s,i){},c98a:function(t,s,i){},f498:function(t,s,i){"use strict";i("c98a")}}]);
//# sourceMappingURL=chunk-2aa94052.ec3ccf4a.js.map